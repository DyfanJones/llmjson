% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/schema.R
\name{json_schema}
\alias{json_schema}
\title{Build a compiled schema for efficient reuse}
\usage{
json_schema(schema)
}
\arguments{
\item{schema}{A schema definition created with json_object(), json_integer(), etc.}
}
\value{
A built schema object (external pointer) that can be passed to
repair_json_str(), repair_json_file(), or repair_json_raw()
}
\description{
This function compiles a schema definition into an efficient internal
representation that can be reused across multiple JSON repair operations.
This dramatically improves performance when repairing many JSON strings
with the same schema, as the schema only needs to be parsed once.
}
\examples{
# Create a schema
schema <- json_object(
  name = json_string(),
  age = json_integer(),
  email = json_string()
)

# Build it once
built_schema <- json_schema(schema)

# Reuse many times - much faster than rebuilding each time!
repair_json_str('{"name": "Alice", "age": 30}', built_schema)
repair_json_str('{"name": "Bob", "age": 25}', built_schema)
}
