% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/schema.R
\name{schema}
\alias{schema}
\alias{json_object}
\alias{json_integer}
\alias{json_number}
\alias{json_string}
\alias{json_boolean}
\alias{json_array}
\alias{json_any}
\alias{json_date}
\alias{json_timestamp}
\title{Schema builders for JSON repair and validation}
\usage{
json_object(..., .optional = FALSE)

json_integer(.default = NULL, .optional = FALSE)

json_number(.default = NULL, .optional = FALSE)

json_string(.default = NULL, .optional = FALSE)

json_boolean(.default = NULL, .optional = FALSE)

json_array(items, .optional = FALSE)

json_any(.optional = FALSE)

json_date(.default = NULL, .format = "iso8601", .optional = FALSE)

json_timestamp(
  .default = NULL,
  .format = "iso8601",
  .tz = "UTC",
  .optional = FALSE
)
}
\arguments{
\item{...}{Named arguments defining the schema for each field (json_object only)}

\item{.optional}{Logical; if TRUE, will use default value.}

\item{.default}{Default value to use when field is missing. Only applies to
required fields (.optional = FALSE)}

\item{items}{Schema definition for array elements (json_array only)}

\item{.format}{Format string(s) for parsing dates/timestamps (json_date/json_timestamp only)}

\item{.tz}{Timezone to use for parsing timestamps (json_timestamp only). Defaults to "UTC"}
}
\value{
A schema definition object
}
\description{
These functions create schema definitions that guide JSON repair and
conversion to R objects. Schemas ensure that the repaired JSON conforms
to expected types and structure.
}
\examples{
# Basic types
json_string()
json_integer()
json_number()
json_boolean()
json_any()

# Object with fields
schema <- json_object(
  name = json_string(),
  age = json_integer(),
  email = json_string()
)

# Array of integers
json_array(json_integer())

# Optional fields with defaults
json_object(
  name = json_string(),
  age = json_integer(.default = 0L, .optional = TRUE),
  active = json_boolean(.default = TRUE)
)

# Date and timestamp handling
json_object(
  birthday = json_date(.format = "us_date"),
  created_at = json_timestamp(.format = "iso8601z", .tz = "UTC")
)
}
