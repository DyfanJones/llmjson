% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/schema.R
\name{schema}
\alias{schema}
\alias{json_object}
\alias{json_integer}
\alias{json_number}
\alias{json_string}
\alias{json_boolean}
\alias{json_enum}
\alias{json_array}
\alias{json_any}
\alias{json_date}
\alias{json_timestamp}
\title{Schema builders for JSON repair and validation}
\usage{
json_object(..., .required = FALSE)

json_integer(.default = 0L, .required = FALSE)

json_number(.default = 0, .required = FALSE)

json_string(.default = "", .required = FALSE)

json_boolean(.default = FALSE, .required = FALSE)

json_enum(.values, .default = .values[1], .required = FALSE)

json_array(items, .required = FALSE)

json_any(.required = FALSE)

json_date(.default = NULL, .format = "iso8601", .required = FALSE)

json_timestamp(
  .default = NULL,
  .format = "iso8601",
  .tz = "UTC",
  .required = FALSE
)
}
\arguments{
\item{...}{Named arguments defining the schema for each field (json_object only)}

\item{.required}{Logical; if TRUE, field must be present (default FALSE)}

\item{.default}{Default value to use when field is missing. Only applies to
required fields (.required = TRUE)}

\item{.values}{Character vector of allowed values (json_enum only)}

\item{items}{Schema definition for array elements (json_array only)}

\item{.format}{Format string(s) for parsing dates/timestamps (json_date/json_timestamp only)}

\item{.tz}{Timezone to use for parsing timestamps (json_timestamp only). Defaults to "UTC"}
}
\value{
A schema definition object
}
\description{
These functions create schema definitions that guide JSON repair and
conversion to R objects. Schemas ensure that the repaired JSON conforms
to expected types and structure.
}
\examples{
# Basic types
json_string()
json_integer()
json_number()
json_boolean()
json_any()

# Object with fields
schema <- json_object(
  name = json_string(),
  age = json_integer(),
  email = json_string()
)

# Array of integers
json_array(json_integer())

# Enum with allowed values
json_enum(c("active", "inactive", "pending"))

# Optional fields with defaults
json_object(
  name = json_string(.required = TRUE),
  age = json_integer(.default = 0L),
  active = json_boolean(.default = TRUE, .required = TRUE),
  status = json_enum(c("active", "inactive"), .required = TRUE)
)

# Date and timestamp handling
json_object(
  birthday = json_date(.format = "us_date"),
  created_at = json_timestamp(.format = "iso8601z", .tz = "UTC")
)
}
\seealso{
\code{\link[=repair_json_str]{repair_json_str()}}, \code{\link[=repair_json_file]{repair_json_file()}}, \code{\link[=repair_json_raw]{repair_json_raw()}}, \code{\link[=repair_json_conn]{repair_json_conn()}}, \code{\link[=json_schema]{json_schema()}}
}
